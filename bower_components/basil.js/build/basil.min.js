!function(){var t=window.Basil=function(t){return(new window.Basil.Storage).init(t)};t.version="0.2.5",t.Storage=function(){var t=["local","cookie","session","memory"],e=function(){var t=this.options||{};return(t.namespace||"b45i1")+":"},o=function(){for(var t=0;t<this.supportedStorages.length;t++)if(this.check(this.supportedStorages[t]))return this.supportedStorages[t];return null},n=function(t){return t?"[object Array]"===Object.prototype.toString.call(t)?t:[t]:null},r=function(t){var o="",n=e.call(this);if("string"==typeof t)o=n+t;else if(t instanceof Array)for(var r=0;r<t.length;r++)t[r]&&(o+=(o.length?":":n)+t[r]);return o},i=function(t){return JSON.stringify(t)},s=function(t){return JSON.parse(t)},a={local:{check:function(){try{window.localStorage.setItem("__xyz__",!0),window.localStorage.removeItem("__xyz__")}catch(t){return!1}return!0},set:function(t,e){if(t)try{window.localStorage.setItem(t,e)}catch(o){throw o==QUOTA_EXCEEDED_ERR&&window.console&&window.console.error("localStorage: Quota exceeded"),o}},get:function(t){return window.localStorage.getItem(t)},remove:function(t){window.localStorage.removeItem(t)},reset:function(){for(var t,o=e.call(this),n=0;n<window.localStorage.length;n++)t=window.localStorage.key(n),0===t.indexOf(o)&&this.remove(t)}},session:{check:function(){try{window.sessionStorage.setItem("__xyz__",!0),window.sessionStorage.removeItem("__xyz__")}catch(t){return!1}return!0},set:function(t,e){if(t)try{window.sessionStorage.setItem(t,e)}catch(o){throw o==QUOTA_EXCEEDED_ERR&&window.console&&window.console.error("localStorage: Quota exceeded"),o}},get:function(t){return window.sessionStorage.getItem(t)},remove:function(t){window.sessionStorage.removeItem(t)},reset:function(){var t=e.call(this);for(var o in window.sessionStorage)0===o.indexOf(t)&&this.remove(o)}},memory:{_hash:{},check:function(){return!0},set:function(t,e){t&&(this._hash[t]=e)},get:function(t){return this._hash[t]||null},remove:function(t){delete this._hash[t]},reset:function(){var t=e.call(this);for(var o in this._hash)0===o.indexOf(t)&&this.remove(o)}},cookie:{check:function(){return navigator.cookieEnabled},set:function(t,e,o){if(t){o=o||{};var n=t+"="+e;if(o.days){var r=new Date;r.setTime(r.getTime()+24*o.days*60*60*1e3),n+="; expires="+r.toGMTString()}o.domain&&(n+="; domain="+o.domain),document.cookie=n+"; path=/"}},get:function(t){for(var e=document.cookie.split(";"),o=0;o<e.length;o++){var n=e[o].replace(/^\s*/,"");if(0===n.indexOf(t+"="))return n.substring(t.length+1,n.length)}return null},remove:function(t){if(t){this.set(t,"",{days:-1});for(var e=document.domain.split("."),o=e.length-1;o>0;o--)this.set(t,"",{days:-1,domain:"."+e.slice(-o).join(".")})}},reset:function(){for(var t=e.call(this),o=document.cookie.split(";"),n=0;n<o.length;n++){var r=o[n].replace(/^\s*/,""),i=r.substr(0,r.indexOf("="));0===i.indexOf(t)&&this.remove(i)}}}};return{init:function(e){return this.options=e||{},this.supportedStorages=this.options.storages||t,this.defaultStorage=this.check(this.options.storage)?this.options.storage:o.call(this),this},check:function(t){if(t=t||this.defaultStorage,a.hasOwnProperty(t))for(var e=0;e<this.supportedStorages.length;e++)if(t===this.supportedStorages[e])return a[t].check();return!1},set:function(t,e,o){if(t=r.call(this,t)){e=i.call(this,e),o=o||{};for(var s=n.call(this,o.storages)||[this.defaultStorage],c=0;c<s.length;c++)this.check(s[c])&&a[s[c]].set(t,e,o)}},get:function(t,e){if(!(t=r.call(this,t)))return null;e=e||{};for(var o=null,i=n.call(this,e.storages)||[this.defaultStorage],c=0;null===o&&c<i.length;c++)this.check(i[c])&&(o=s.call(this,a[i[c]].get(t)));return o},remove:function(t,e){if(!(t=r.call(this,t)))return null;e=e||{};for(var o=n.call(this,e.storages)||[this.defaultStorage],i=0;i<o.length;i++)this.check(o[i])&&a[o[i]].remove(t)},reset:function(t){t=t||{};for(var e=n.call(this,t.storages)||[this.defaultStorage],o=0;o<e.length;o++)this.check(e[o])&&a[e[o]].reset()},cookie:a.cookie,localStorage:a.local,sessionStorage:a.session}}}();